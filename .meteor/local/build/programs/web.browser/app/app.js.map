{"version":3,"sources":["meteor://ðŸ’»app/client/group/group_item.js","meteor://ðŸ’»app/client/group/group_list.js","meteor://ðŸ’»app/client/group/group_page.js","meteor://ðŸ’»app/client/group/group_submit.js","meteor://ðŸ’»app/client/helpers/config.js","meteor://ðŸ’»app/client/js/create.js","meteor://ðŸ’»app/client/js/home.js","meteor://ðŸ’»app/client/js/meeting.js","meteor://ðŸ’»app/client/js/meetingLeft.js","meteor://ðŸ’»app/lib/Collections/Groups.js","meteor://ðŸ’»app/lib/Collections/Meetings.js","meteor://ðŸ’»app/lib/Collections/Speeches.js","meteor://ðŸ’»app/lib/Router.js"],"names":["Template","groupItem","helpers","ownGroup","userId","Meteor","partGroup","res","i","members","length","user","emails","address","groupsList","groups","Groups","find","groupPage","events","e","preventDefault","confirm","currentGroupId","_id","remove","Router","go","member","update","$pull","parentId","parentData","target","console","log","AddedMember","document","querySelector","$push","value","groupSubmit","onCreated","Session","set","inputs","get","uniqid","Math","floor","random","push","membersInputs","$","name","group","val","call","error","result","alert","reason","input","event","currentTarget","attr","_","filter","x","Accounts","ui","config","passwordSignupFields","extraSignupFields","fieldName","fieldLabel","inputType","visible","create","rank","parents","getAttribute","form","nextRank","parseInt","newInput","cloneNode","append","ordreInputs","ordreDuJour","ordreTimeInputs","ordreDuJourTemps","participantsInputs","participantsEmails","ordres","ordreTimes","participantActivity","meeting","meetingName","duration","meetingDuration","animatorName","animatorMail","animatorEmail","status","speaker","meetingId","emailBody","onRendered","username","tempName","d","Date","setHours","datetimepicker","format","defaultDate","home","sortableList","Presence","state","online","currentRoomId","users","userIds","Presences","map","presence","userPres","$in","$ne","getSpeaker","Meetings","findOne","isSpeaker","mail","isAsking","Speeches","myMeetingId","speakers","count","ownMeeting","partMeeting","speeches","$set","clearInterval","timerId","sort","setInterval","currentSpeech","Users","paroles","time","undefined","orderChoose","paroleFound","forEach","el","timeLeft","setTimeout","sortable","computeSortable","subscribe","data","ready","summernote","height","title","doc","jsPDF","text","save","meetingReport","isTrue","pptcont","Collection","allow","ownsDocument","insert","methods","groupInsert","groupAttributes","check","String","extend","author","authorAdress","authorName","submitted","groupId","Mongo","meetingInsert","meetingAttributes","Boolean","Number","speechesInsert","speechesAttributes","meetingID","speechesId","configure","layoutTemplate","waitOn","route","params","_meetingId","notFoundTemplate","MeetingUsers","_userId","render"],"mappings":"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","file":"/app.js","sourcesContent":["Template.groupItem.helpers({\n  ownGroup:function(){\n    return this.userId === Meteor.userId();\n  },\n  partGroup:function(){\n    var res=0;\n    if(this.userId === Meteor.userId()){\n      res=1;\n    }\n    else{\n      for(i=0;i<this.members.length;i++){\n        if(this.members[i]===Meteor.user().emails[0].address){\n          res=1;\n          i=this.members.length;\n        }\n      }\n    }\n    return res;\n  }\n});\n","Template.groupsList.helpers({\n  groups: function() {\n    return Groups.find();\n  }\n});\n","Template.groupPage.helpers({\n  ownGroup:function(){\n    return this.userId === Meteor.userId();\n  },\n  partGroup:function(){\n    var res=0;\n    if(this.userId === Meteor.userId()){\n      res=1;\n    }\n    else{\n      for(i=0;i<this.members.length;i++){\n        if(this.members[i]===Meteor.user().emails[0].address){\n          res=1;\n          i=this.members.length;\n        }\n      }\n    }\n    return res;\n  }\n});\n\nTemplate.groupPage.events({\n\n  'click .delete': function(e) {\n    e.preventDefault();\n\n    if (confirm(\"Delete this group?\")) {\n      var currentGroupId = this._id;\n      Groups.remove(currentGroupId);\n      Router.go('groups');\n\n    }\n  },\n  'click .quit': function(e) {\n    e.preventDefault();\n\n    if (confirm(\"Do you want to leave this group?\")) {\n      var currentGroupId = this._id;\n      var member=Meteor.user().emails[0].address;\n      Groups.update(currentGroupId,{$pull : {members : member}} );\n      Router.go('groups');\n\n    }\n  },\n  'click #min-input': function (e) {\n\n\n    e.preventDefault();\n\n    if (confirm(\"Do you want to kik \" +this +\" ?\")) {\n      var parentId=Template.parentData(1)._id;\n      var target=\"\"+this;\n    //  console.log(\"taille parent : \"+Template.parentData(1).members.length);\n\n\n      console.log(target);\n      Groups.update({_id:parentId},{$pull : {members : target}} );\n    //alert(\"member removed!\");\n    }\n\n  },\n  'click #add-member': function(e) {\n    e.preventDefault();\n    //RÃ©cupÃ©ration des Ã©lÃ©ments DOM des champs de saisie\n    var currentGroupId = this._id;\n\n    var AddedMember = document.querySelector('[name=AddedMember]');\n\n    Groups.update(currentGroupId,{$push : {members : AddedMember.value}} );\n\n    AddedMember.value=\"\";\n  },\n  'click #open': function(e){\n      Router.go('create', this);\n  }\n});\n","Template.groupSubmit.onCreated(function() {\n  Session.set('inputs', []); // on page load, set this to have no inputs\n});\n\nTemplate.groupSubmit.helpers({\n  inputs: function () {\n    return Session.get('inputs'); // reactively watches the Session variable, so when it changes, this result will change and our template will change\n  }\n});\n\n// Now we'll set up a click handler to add inputs to our array when we   click the \"add\" button\nTemplate.groupSubmit.events({\n  'click #add-input': function () {\n\n    var inputs = Session.get('inputs');\n    var uniqid = Math.floor(Math.random() * 100000); // Give a unique ID so you can pull _this_ input when you click remove\n    inputs.push({uniqid: uniqid, value: \"\"});\n    Session.set('inputs', inputs);\n  },\n\n  'submit form': function(e) {\n    e.preventDefault();\n    //RÃ©cupÃ©ration des Ã©lÃ©ments DOM des champs de saisie\n    var membersInputs = $(e.target).find('[name=member]');\n\n\n    //RÃ©cupÃ©ration des valeurs de l'ordre du jour, temps estimÃ©s et des emails d'invitation\n    var name = [];;\n    var members = [];\n\n\n    for (i = 0; i < membersInputs.length; i++) {\n      if (membersInputs[i].value != \"\") {\n        members.push(membersInputs[i].value);\n      }\n    }\n\n  //  name.push(nameInput[0].value);\n\n    var group = {\n      name: $(e.target).find('[name=name]').val(),\n      members\n    }\n\n    Meteor.call('groupInsert', group, function(error, result) {\n      // affiche l'erreur Ã  l'utilisateur et s'interrompt\n      if (error)\n      return alert(error.reason);\n      Router.go('groups', {_id: result._id});\n    });\n  }\n\n\n});\n\n\n// We also need handlers for when the inputs themselves are changed / removed\nTemplate.input.events({\n  'click #remove-input': function(event) {\n    var uniqid = $(event.currentTarget).attr('uniqid');\n    inputs = Session.get('inputs');\n    inputs = _.filter(inputs, function(x) { return x.uniqid != uniqid; });\n    Session.set('inputs', inputs);\n  }/*,\n  'change input': function(event) {\n    var $input = $(event.currentTarget);\n    var uniqid = $input.attr('uniqid');\n    inputs = Session.get('inputs');\n    index = inputs.findIndex(function(x) { return x.uniqid == uniqid; });\n    inputs[index].value = $input.val();\n    Session.set('inputs', inputs);\n  }*/\n});\n","Accounts.ui.config({\n  passwordSignupFields: 'USERNAME_AND_EMAIL',\n  extraSignupFields: [\n    {\n        fieldName: 'last-name',\n        fieldLabel: 'Last name',\n        inputType: 'text',\n        visible: true,\n    },\n    {\n        fieldName: 'meetingId',\n        fieldLabel: 'meetingId',\n        inputType: 'text',\n        visible: false,\n    }\n  ]\n});\n","\n\nTemplate.create.events({\n  //CrÃ©ation d'un nouveau champ de saisie lorsqu'un caractÃ¨re est renseignÃ©\n  'keyup .participant-email-input': function(e) {\n    var input = $(e.target);\n    if (input.val().length > 0) {\n      var rank = input.parents(\".participant-email\")[0].getAttribute('rank');\n      var form = input.parents(\"#create-form\");\n      var nextRank = parseInt(rank) + 1;\n\n      if ($(form).find('.participant-email[rank=\"'+nextRank+'\"]').length < 1) {\n        var newInput = $(input.parents(\".participant-email\")[0].cloneNode(true));\n        newInput.find(\".participant-email-input\").val(\"\");\n        newInput.attr('rank', nextRank);\n        $(input.parents(\".participant-email-group\")[0]).append(newInput)\n      }\n    }\n  },\n\n\n  'submit form': function(e) {\n    e.preventDefault();\n    //RÃ©cupÃ©ration des Ã©lÃ©ments DOM des champs de saisie\n    var ordreInputs = e.target.ordreDuJour;\n    var ordreTimeInputs = e.target.ordreDuJourTemps;\n    var participantsInputs = e.target.participantsEmails;\n\n    //RÃ©cupÃ©ration des valeurs de l'ordre du jour, temps estimÃ©s et des emails d'invitation\n    var ordres = [];\n    var ordreTimes = [];\n    var participantsEmails = [];\n    var participantActivity = [];\n\n    //RÃ©cupÃ©ration des Ã©lÃ©ments DOM des champs de saisie\n    var participantsInputs = $(e.target).find('[name=participantsEmails]');\n\n\n\n    for (i = 0; i < participantsInputs.length; i++) {\n      if (participantsInputs[i].value != \"\") {\n        participantsEmails.push(participantsInputs[i].value);\n        participantActivity.push(false);\n      }\n    }\n\n    //CrÃ©ation du meeting\n    //voir comment rajouter des personnes au meeting\n    //idÃ©e : crÃ©ation d'un tableau qui est rempli en faisant Meteor.user().mettingId = meetingId\n\n    var meeting= {\n      name: e.target.meetingName.value,\n      duration : e.target.meetingDuration.value,\n      animatorName: e.target.animatorName.value,\n      animatorMail:e.target.animatorEmail.value,\n      participantsEmails: participantsEmails,\n      participantActivity:participantActivity,\n      status: 'ongoing',\n      ordres: ordres,\n      ordreTimes: ordreTimes,\n      speaker: e.target.animatorEmail.value\n    };\n\n    Meteor.call('meetingInsert', meeting, function(error, result) {\n      // affiche l'erreur Ã  l'utilisateur et s'interrompt\n      if (error)\n      return alert(error.reason);\n\n      var meetingId=result._id;\n\n      var emailBody = 'Here is the link for the meeting : taketalk.meteor.com/join/' + meetingId + '\\n';\n      Meteor.call('sendEmail',\n      e.target.animatorEmail.value,\n      'noreply@taketalk.com',\n      'TakeTalk session created',\n      'You have just created a session of TakeTalk. \\n\\n' + emailBody\n    );\n\n\n    for(var i = 0; i < participantsEmails.length; i++) {\n      Meteor.call('sendEmail', participantsEmails[i], 'noreply@taketalk.com', 'TakeTalk invitation',\n      'You are invited to a session of TakeTalk. \\n\\n' + emailBody\n    );\n  }\n\n  console.log(\"mail envoyÃ©\");\n  //Redirection vers la page du meeting\n  Router.go('/meeting/' + meetingId);\n\n});\n}\n});\n\nTemplate.create.onRendered(function (){\n  if (Meteor.userId() != null){\n    $(' #animatorName').val(Meteor.user().username);\n    $(' #animatorEmail').val(Meteor.user().emails[0].address);\n  };\n});\nTemplate.tempName.onRendered(function() {\n\n      var d= new Date();\n      d.setHours(0,0,0);\n      $('.datetimepicker').datetimepicker({\n        format:'HH:mm',\n        defaultDate:d\n      //  defaultViewDate : {hours : 00, minutes: 00}\n    });\n});\n","Template.home.events({\n    //Redirection vers la page de crÃ©ation de meeting\n    'click #open': function(e){\n        Router.go('create');\n    }\n});\n","//import { Template } from 'meteor/templating';\n//import { ReactiveVar } from 'meteor/reactive-var';\n\nvar sortableList;\nvar meeting;\n\n//Template.meeting.isTrue = true;\n//console.log(Template.meeting.isTrue);\n\nPresence.state = function() {\n  return {\n    online:true,\n    currentRoomId: Session.get('currentRoomId')\n  };\n};\n\n\nTemplate.meeting.helpers({\n  users: function () {\n        // exclude the currentUser\n        var userIds = Presences.find().map(function(presence) {return presence.userId;});\n        var userPres = Presences.find().map(function(presence) {\n          if(presence.state.currentRoomId===Session.get('currentRoomId'))\n            return presence.userId;\n        });\n        /*\n        console.log(\"je suis connectÃ©  \" +userIds);\n        console.log(\"je suis ici  \" + userPres);*/\n        return Meteor.users.find({_id: {$in: userPres, $ne: Meteor.userId()}});\n      },\n\n  getSpeaker: function(){\n    meeting=Session.get(\"meeting\");\n      var speaker = Meetings.findOne({_id:meeting._id}).speaker;\n      Session.set(\"speaker\",speaker);\n\n  },\n\n  isSpeaker: function(){\n      meeting=Session.get(\"meeting\");\n      speaker=Session.get(\"speaker\");\n      var mail;\n      if(this.animatorMail)\n        mail=this.animatorMail;\n      else\n        mail=\"\"+this;\n      return Meetings.findOne({_id:meeting._id}).speaker === mail;\n  },\n\n\nisAsking: function(){\n    meeting=Session.get(\"meeting\");\n    var mail;\n    if(this.animatorMail)\n      mail=this.animatorMail;\n    else\n      mail=\"\"+this;\n    return Speeches.find({myMeetingId:meeting._id,speakers:mail}).count();\n},\n\n\n/*\n  onLoad:function(){\n    var meeting = this;\n    Session.set(\"meeting\",this);\n    Session.set('currentRoomId',this._id);\n    var idMeeting=this._id;\n    var meetingParticipant= this.participantsEmails;\n    var meetingParticipantActivity = this.participantActivity;\n\n  },\n*/\n  ownMeeting:function(){\n    meeting=Session.get(\"meeting\");\n    return meeting.animatorMail === Meteor.user().emails[0].address;\n  },\n  partMeeting:function(){\n    var res=0;\n    if(this.animatorMail === Meteor.user().emails[0].address){\n      res=1;\n    }\n    else{\n      var mail=\"\"+this;\n      if(mail===Meteor.user().emails[0].address)\n        res=1;\n\n      meeting=Session.get(\"meeting\");\n\n/*\n      for(i=0;i<meeting.participantsEmails.length;i++){\n        if(meeting.participantsEmails[i]===Meteor.user().emails[0].address){\n\n          Meetings.update(idMeeting,{$set: {\"meetingParticipantActivity[i]\": true}});\n\n          i=this.participantsEmails.length;\n        }\n      }\n*/\n    }\n\n    return res;\n  }\n});\n\nTemplate.meeting.events({\n  'click #speakControl' : function(e){\n    console.log(meeting._id);\n    meeting=Session.get(\"meeting\");\n    speeches=Speeches.findOne({myMeetingId:meeting._id});\n    if(this.animatorMail){\n      Meetings.update(meeting._id, {$set: {speaker: this.animatorMail}});\n    }\n    else {\n      var mail=\"\"+this;\n      Meetings.update(meeting._id, {$set: {speaker: mail}});\n        Speeches.update(speeches._id , {$pull: {speakers: mail }} );\n    }\n\n  },\n\n'click #speakAsk' : function(e){\n  meeting=Session.get(\"meeting\");\n  speeches=Speeches.findOne({myMeetingId:meeting._id});\n\n\n\n    var mail=\"\"+this;\n    Speeches.update(speeches._id , {$push: {speakers: mail }} );\n},\n\n\n  'click #talkCancel' : function(e){\n    console.log(\"I click on Talk\");\n    //Ã  modifier\n      var userId = Meteor.user().username;\n      var meetingId = Meteor.user().meeting;\n      var rank = 1;\n      console.log(\"userId = \" + userId);\n      console.log(\"meeting = \" + meetingId);\n  },\n\n\n  /** A click on waitProceed starts or stops the timer */\n  'click #waitProceed': function(e) {\n    //Arret du timer\n    if(e.target.value == \"Wait\") {\n      Meteor.clearInterval(timerId);\n      Speeches.update(\n        Speeches.findOne({meeting: Session.get(\"meetingId\"), status: \"ongoing\"})._id,\n        {$set: {status: \"pending\"}}\n      );\n    } else {\n      Speeches.update(\n        Speeches.findOne({meeting: Session.get(\"meetingId\"), status: \"pending\"}, {sort: {rank: 1}})._id,\n        {$set: {status: \"ongoing\"}}\n      );\n\n      //Lancement du timer\n      timerId = Meteor.setInterval(function() {\n        var currentSpeech = Speeches.findOne({meeting: Session.get(\"meetingId\"), status: \"ongoing\"});\n        var user = Users.findOne({_id:currentSpeech.user});\n        var paroles = [];\n        var time = 1;\n\n        //IncrÃ©mentation du compteur associÃ© a l'ordre du speech\n        if (user.paroles === undefined) {\n          paroles.push({\"order\": currentSpeech.orderChoose, \"time\": 1});\n        } else {\n          var paroleFound = false;\n          paroles = user.paroles;\n          paroles.forEach(function (el) {\n            if (el['order'] == currentSpeech.orderChoose) {\n              paroleFound = true;\n              el['time'] = parseInt(el['time'])+1;\n            }\n          });\n          if (!paroleFound) {\n            paroles.push({\"order\": currentSpeech.orderChoose, \"time\": 1});\n          }\n        }\n\n        Users.update(user._id,  {$set: {paroles: paroles}});\n\n        //Update du temps restant du speech\n        Speeches.update(\n          currentSpeech._id,\n          {$set: {timeLeft: Speeches.findOne({meeting: Session.get(\"meetingId\"), status: \"ongoing\"}).timeLeft + 1}}\n        );\n        //Update du statut du speech si celui ci est terminÃ©\n        if(Speeches.findOne({meeting: Session.get(\"meetingId\"), status: \"ongoing\"}).timeLeft == Speeches.findOne({meeting: Session.get(\"meetingId\"), status: \"ongoing\"}).time){\n          Speeches.update(\n            Speeches.findOne({meeting: Session.get(\"meetingId\"), status: \"ongoing\"})._id,\n            {$set: {status: \"done\"}}\n          );\n          Meteor.clearInterval(timerId);\n        }\n      } , 1000);\n    }\n    //Rafraichi la fonction de drag'n'drop\n    //Utile pour empÃªcher le dÃ©placement du premier meeting quand on clique sur 'proceed'\n    //trouver une autre solution (la mÃ©thode \"refresh\" semble inefficace)\n      setTimeout(function () {\n      sortableList.sortable(\"destroy\");\n      computeSortable(sortableList);\n    }, 100)\n    ;\n  },\n\n});\n\n\nTemplate.meeting.onCreated(function () {\n  Meteor.subscribe(\"presences\");\n  Meteor.subscribe(\"users\");\n\n//   meeting = this.data;\n  Session.set(\"meeting\",this.data);\n  Session.set('currentRoomId',this._id);\n\n});\n\n\n\n\n\n\n\n//summernote : don't touch\nTemplate.meeting.onRendered(function () {\n$(document).ready(function(){\n  $('#textareaRich').summernote({\n    height: 300,\n  });\n});\n});\n\n\n\nTemplate.meeting.events({\n  'click #saveReport' :function(e) {\n    // increment the counter when button is clicked\n    console.log(\"I click on Talk\");\n    var title = $(' #TitleReport').val();\n    var data = $('#textareaRich').summernote('code');\n    //$('.click2edit').summernote('destroy');\n    console.log(\"title :\" + title + \" data = \" + data);\n    var doc = new jsPDF();\n    doc.text(10,10,data);\n    doc.save(title);\n    //Fonctionne mais enregistre en .txt\n    //var blob = new Blob([data], {type: \"text/plain;charset=utf-8\"});\n    //saveAs(blob, title+\".txt\");\n  }\n});\n","\nTemplate.meetingReport.onRendered(function () {\n  $(document).ready(function(){\n    $('#textareaRich').summernote({\n      height: 300,\n    });\n  });\n});\n\n\n\nTemplate.meetingReport.events({\n  'click #saveReport' :function(e) {\n    // increment the counter when button is clicked\n    console.log(\"I click on Talk\");\n    var title = $(' #TitleReport').val();\n    var data = $('#textareaRich').summernote('code');\n    //$('.click2edit').summernote('destroy');\n    console.log(\"title :\" + title + \" data = \" + data);\n    var doc = new jsPDF();\n    doc.text(10,10,data);\n    doc.save(title);\n    //Fonctionne mais enregistre en .txt\n    //var blob = new Blob([data], {type: \"text/plain;charset=utf-8\"});\n    //saveAs(blob, title+\".txt\");\n  },\n  'click #goppt' : function(e){\n    console.log(\"GoPPT\");\n    Template.meeting.isTrue = false;\n    console.log(Template.meeting.isTrue);\n\n  },\n});\n\nTemplate.pptcont.events({\n  'click #gomt' : function(e){\n    console.log(\"GoMT\");\n    console.log(Template.meeting.isTrue.value());\n\n    Template.meeting.isTrue = true;\n  },\n});\n\n\n\nTemplate.meetingReport.isTrue = true;\n","Groups = new Meteor.Collection('groups');\n\nGroups.allow({\n  update: function(userId, group) { return true/*return ownsDocument(userId, group);*/ },\n  remove: function(userId, group) { return ownsDocument(userId, group); },\n  insert: function(userId, doc) {\n    // autoriser les posts seulement si l'utilisateur est authentifiÃ©\n    return !! userId;\n  }\n });\n\n Meteor.methods({\n     groupInsert: function(groupAttributes) {\n         check(Meteor.userId(), String);\n         check(groupAttributes, {\n             name: String,\n             members: [String]\n         });\n\n         var user = Meteor.user();\n         var group = _.extend(groupAttributes, {\n             userId: user._id,\n             author: user.emails,\n             authorAdress: user.emails[0].address,\n             authorName : user.username,\n             submitted: new Date()\n         });\n         var groupId = Groups.insert(group);\n         return {\n             _id: groupId\n         };\n     }\n });\n","/** The collection that contains the meetings */\nMeetings = new Mongo.Collection(\"meetings\");\n\nMeetings.allow({\n  update: function() { return true/*return ownsDocument(userId, group);*/ },\n  remove: function() { return true },\n  insert: function() {\n    return true;\n  }\n });\n\n\n Meteor.methods({\n     meetingInsert: function(meetingAttributes) {\n\n         check(meetingAttributes, {\n             name: String,\n             duration: String,\n             animatorName: String,\n             animatorMail:String,\n             participantsEmails: [String],\n             participantActivity: [Boolean],\n             status: String,\n             ordres: [String],\n             ordreTimes: [Number],\n             speaker:String/*,\n             pwd : \"\" */\n         });\n\n         var meeting = _.extend(meetingAttributes, {\n             submitted: new Date()\n         });\n         var meetingId = Meetings.insert(meeting);\n\n\n         return {\n             _id: meetingId\n         };\n     }\n });\n\n/*\n Exemple :\n\n name: 'test',\n status: \"ongoing\",\n ordres: ['ordre1', 'ordre2', 'ordre3'],\n ordreTimes: [90, 130, 268],\n _id: id\n pwd : \"\"\n */\n","/** The collection that contains the speeches */\nSpeeches = new Mongo.Collection(\"speeches\");\n\nSpeeches.allow({\n  update: function() { return true/*return ownsDocument(userId, group);*/ },\n  remove: function() { return true },\n  insert: function() {\n    return true;\n  }\n });\n\n\n Meteor.methods({\n     speechesInsert: function(speechesAttributes) {\n\n         check(speechesAttributes, {\n             meetingID: String/*,\n             speakers: [String]\n             */\n         });\n\n\n\n         var speechesId = Speeches.insert(speechesAttributes);\n\n\n         return {\n             _id: speechesId\n         };\n     }\n });\n","Router.configure({\n  layoutTemplate: 'layout',\n  waitOn: function(){\n    return [\n      Meteor.subscribe('groups'),\n      Meteor.subscribe('meetings')\n    ]},\n    /*return Meteor.subscribe('groups'); },\n  waitOn: function(){return Meteor.subscribe('meetings'); }\n  */\n});\n\n/** The route to the home page */\nRouter.route('/', {name:'home'});\n\nRouter.route('/create/:_id?', {\n  name: 'create',\n  data: function() { return Groups.findOne(this.params._id); }\n});\n\nRouter.route('/groups', {name:'groups'});\nRouter.route('/groupSubmit', {name:'groupSubmit'});\nRouter.route('/groups/:_id', {\n  name: 'groupPage',\n  data: function() { return Groups.findOne(this.params._id); }\n});\n\n\nRouter.route('/meeting/:_meetingId', {\n  name: 'meeting',\n  data: function() {\n  // Recherche du meeting dont l'id est passÃ© en paramÃ¨tre\n  // Redirection vers une page d'erreur \"404 not found\" lorsqu'aucun meeting n'est trouvÃ©\n    var meeting = Meetings.findOne({_id: this.params._meetingId, status: \"ongoing\"});\n\n  //  console.log(meeting);\n    if(meeting === undefined){\n      //  console.log('undefined meeting...');\n        Router.configure({layoutTemplate: 'layout', notFoundTemplate: '404'});\n    }\n    else\n      return  Meetings.findOne({_id: this.params._meetingId, status: \"ongoing\"});\n\n  }\n});\n\nRouter.route('/join/:_meetingId/:_userId', {\n    name: 'join',\n    data: function() {\n\n        // Recherche du meeting dont l'id est passÃ© en paramÃ¨tre\n        // Redirection vers une page d'erreur \"404 not found\" lorsqu'aucun meeting n'est trouvÃ©\n        var meeting = Meetings.findOne({_id: this.params._meetingId});\n        if(meeting === undefined){\n            console.log('meeting undefined');\n            Router.configure({layoutTemplate: 'layout', notFoundTemplate: '404'});\n        }\n\n        //Recherche de l'utilisateur\n        //Redirection vers une page d'erreur \"404 not found\" lorsqu'aucun utilisateur n'est trouvÃ©\n        //Ne permet qu'aux utilisateurs invitÃ©s de rejoindre un meeting\n        var user = MeetingUsers.findOne({_id: this.params._userId});\n        if(user === undefined){\n            console.log('user undefined');\n            Router.configure({layoutTemplate: 'layout', notFoundTemplate: '404'});\n        }\n\n        Session.set(\"meetingId\", this.params._meetingId);\n        Session.set(\"userId\", this.params._userId);\n\n        return {};\n    }\n});\n\nRouter.route('/meeting/:_meetingId/lineup', function () {\n    this.render('lineup');\n});\n\nRouter.route('/end', function () {\n    this.render('end');\n});\n"]}