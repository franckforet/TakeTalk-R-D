{"version":3,"sources":["meteor://ðŸ’»app/packages/tap_i18n-ui/i18n_ui_amplify.coffee","meteor://ðŸ’»app/packages/tap_i18n-ui/i18n_ui_client_helpers.coffee","meteor://ðŸ’»app/packages/tap_i18n-ui/frameworks/i18n_ui_bootstrap.coffee","meteor://ðŸ’»app/packages/tap_i18n-ui/frameworks/i18n_ui_semantic.coffee"],"names":[],"mappings":"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","file":"/packages/tap_i18n-ui.js","sourcesContent":["# Add amplify helper to TAPi18n\nTAPi18n.setLanguageAmplify = (language) ->\n  amplify.store 'tap-i18n-language', language\n  TAPi18n.setLanguage(language).always(TAPi18n._afterUILanguageChange)\n\n# set the language on startup if it's already been set, otherwise set default\nMeteor.startup ->\n  storedLanguage = amplify.store 'tap-i18n-language'\n  if storedLanguage\n    TAPi18n.setLanguage storedLanguage\n  else\n    if _.keys(TAPi18n.getLanguages())?[0]\n      TAPi18n.setLanguageAmplify _.keys(TAPi18n.getLanguages())[0]\n","# only show if TAPi18n is enabled\nTAPi18n.uiHelpers =\n  enabled: -> TAPi18n.conf?\n\n  # transform getLanguages into ordered array\n  sortedLanguages:  ->\n    langauges = TAPi18n.getLanguages()\n    # map language tag into the object\n    for key,val of langauges\n      langauges[key].tag = key\n    # return array sorted alphabetically by tag\n    _.sortBy _.values langauges, (language) -> language.tag\n\n  # check if language option is current language\n  isCurrentLanguage:  (tag) -> tag is TAPi18n.getLanguage()\n\n  # find and decorate current language\n  currentLanguage:  ->\n    currentLanguage = TAPi18n.getLanguages()?[TAPi18n.getLanguage()]\n    currentLanguage.tag = TAPi18n.getLanguage()\n    return currentLanguage\n\n# add to ui\nfor key, val of TAPi18n.uiHelpers\n  UI.registerHelper \"i18n_#{key}\", val\n\n# add language change event, to be redefined in project if needed\nTAPi18n._afterUILanguageChange = -> null","Template.i18n_dropdown.events\n  # set language to selected option's tag\n  'change .tap-i18n-dropdown select' : (e) -> TAPi18n.setLanguageAmplify $(e.currentTarget).val()\n\nTemplate.i18n_buttons.events\n  # set language to context tag\n  'click .tap-i18n-buttons button' : (e,tmpl) -> TAPi18n.setLanguageAmplify @tag\n","Template.i18n_dropdown_semantic.rendered = ->\n  $('select.dropdown').dropdown()\n\nTemplate.i18n_dropdown_semantic.events\n  # set language to selected option's tag\n  'change .tap-i18n-dropdown select' : (e) -> TAPi18n.setLanguageAmplify $(e.currentTarget).val()\n\nTemplate.i18n_buttons_semantic.events\n  # set language to context tag\n  'click .tap-i18n-buttons button' : (e,tmpl) -> TAPi18n.setLanguageAmplify @tag\n\nTemplate.i18n_flags_semantic.events\n  'click .tap-i18n-flags .flag' : (e,tmpl) ->\n    TAPi18n.setLanguageAmplify @tag\n\nflagTagMap =\n  'en': 'gb'\n  'zh': 'cn'\n  'ja': 'jp'\n\nTemplate.i18n_flags_semantic.helpers\n  sortedFlagTags: ->\n    sortedLanguages = TAPi18n.uiHelpers.sortedLanguages()\n    return sortedLanguages.map (obj) ->\n      obj.flagTag = flagTagMap[obj.tag] || obj.tag\n      return obj\n"]}