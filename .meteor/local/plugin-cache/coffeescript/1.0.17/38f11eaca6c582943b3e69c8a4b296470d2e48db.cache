{"source":"__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;\nvar key, ref, val;\n\nTAPi18n.uiHelpers = {\n  enabled: function() {\n    return TAPi18n.conf != null;\n  },\n  sortedLanguages: function() {\n    var key, langauges, val;\n    langauges = TAPi18n.getLanguages();\n    for (key in langauges) {\n      val = langauges[key];\n      langauges[key].tag = key;\n    }\n    return _.sortBy(_.values(langauges, function(language) {\n      return language.tag;\n    }));\n  },\n  isCurrentLanguage: function(tag) {\n    return tag === TAPi18n.getLanguage();\n  },\n  currentLanguage: function() {\n    var currentLanguage, ref;\n    currentLanguage = (ref = TAPi18n.getLanguages()) != null ? ref[TAPi18n.getLanguage()] : void 0;\n    currentLanguage.tag = TAPi18n.getLanguage();\n    return currentLanguage;\n  }\n};\n\nref = TAPi18n.uiHelpers;\nfor (key in ref) {\n  val = ref[key];\n  UI.registerHelper(\"i18n_\" + key, val);\n}\n\nTAPi18n._afterUILanguageChange = function() {\n  return null;\n};\n","sourceMap":{"version":3,"file":"/i18n_ui_client_helpers.coffee.js","sourceRoot":"","sources":["/packages/tap_i18n-ui/i18n_ui_client_helpers.coffee"],"names":[],"mappings":";AACA,IAAA,aAAA;;AAAA,OAAO,CAAC,SAAR,GACE;AAAA,EAAA,OAAA,EAAS,SAAA,GAAA;WAAG,qBAAH;EAAA,CAAT;AAAA,EAGA,eAAA,EAAkB,SAAA,GAAA;AAChB,QAAA,mBAAA;AAAA,IAAA,SAAA,GAAY,OAAO,CAAC,YAAR,CAAA,CAAZ,CAAA;AAEA,SAAA,gBAAA;2BAAA;AACE,MAAA,SAAU,CAAA,GAAA,CAAI,CAAC,GAAf,GAAqB,GAArB,CADF;AAAA,KAFA;WAKA,CAAC,CAAC,MAAF,CAAS,CAAC,CAAC,MAAF,CAAS,SAAT,EAAoB,SAAC,QAAD,GAAA;aAAc,QAAQ,CAAC,IAAvB;IAAA,CAApB,CAAT,EANgB;EAAA,CAHlB;AAAA,EAYA,iBAAA,EAAoB,SAAC,GAAD,GAAA;WAAS,GAAA,KAAO,OAAO,CAAC,WAAR,CAAA,EAAhB;EAAA,CAZpB;AAAA,EAeA,eAAA,EAAkB,SAAA,GAAA;AAChB,QAAA,oBAAA;AAAA,IAAA,eAAA,+CAA0C,CAAA,OAAO,CAAC,WAAR,CAAA,CAAA,UAA1C,CAAA;AAAA,IACA,eAAe,CAAC,GAAhB,GAAsB,OAAO,CAAC,WAAR,CAAA,CADtB,CAAA;AAEA,WAAO,eAAP,CAHgB;EAAA,CAflB;CADF,CAAA;;AAsBA;AAAA,KAAA,UAAA;iBAAA;AACE,EAAA,EAAE,CAAC,cAAH,CAAkB,OAAA,GAAQ,GAA1B,EAAiC,GAAjC,CAAA,CADF;AAAA,CAtBA;;AAAA,OA0BO,CAAC,sBAAR,GAAiC,SAAA,GAAA;SAAG,KAAH;AAAA,CA1BjC,CAAA","sourcesContent":["# only show if TAPi18n is enabled\nTAPi18n.uiHelpers =\n  enabled: -> TAPi18n.conf?\n\n  # transform getLanguages into ordered array\n  sortedLanguages:  ->\n    langauges = TAPi18n.getLanguages()\n    # map language tag into the object\n    for key,val of langauges\n      langauges[key].tag = key\n    # return array sorted alphabetically by tag\n    _.sortBy _.values langauges, (language) -> language.tag\n\n  # check if language option is current language\n  isCurrentLanguage:  (tag) -> tag is TAPi18n.getLanguage()\n\n  # find and decorate current language\n  currentLanguage:  ->\n    currentLanguage = TAPi18n.getLanguages()?[TAPi18n.getLanguage()]\n    currentLanguage.tag = TAPi18n.getLanguage()\n    return currentLanguage\n\n# add to ui\nfor key, val of TAPi18n.uiHelpers\n  UI.registerHelper \"i18n_#{key}\", val\n\n# add language change event, to be redefined in project if needed\nTAPi18n._afterUILanguageChange = -> null"]}}