{"source":"__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;\nTAPi18n.setLanguageAmplify = function(language) {\n  amplify.store('tap-i18n-language', language);\n  return TAPi18n.setLanguage(language).always(TAPi18n._afterUILanguageChange);\n};\n\nMeteor.startup(function() {\n  var ref, storedLanguage;\n  storedLanguage = amplify.store('tap-i18n-language');\n  if (storedLanguage) {\n    return TAPi18n.setLanguage(storedLanguage);\n  } else {\n    if ((ref = _.keys(TAPi18n.getLanguages())) != null ? ref[0] : void 0) {\n      return TAPi18n.setLanguageAmplify(_.keys(TAPi18n.getLanguages())[0]);\n    }\n  }\n});\n","sourceMap":{"version":3,"file":"/i18n_ui_amplify.coffee.js","sourceRoot":"","sources":["/packages/tap_i18n-ui/i18n_ui_amplify.coffee"],"names":[],"mappings":";AACA,OAAO,CAAC,kBAAR,GAA6B,SAAC,QAAD,GAAA;AAC3B,EAAA,OAAO,CAAC,KAAR,CAAc,mBAAd,EAAmC,QAAnC,CAAA,CAAA;SACA,OAAO,CAAC,WAAR,CAAoB,QAApB,CAA6B,CAAC,MAA9B,CAAqC,OAAO,CAAC,sBAA7C,EAF2B;AAAA,CAA7B,CAAA;;AAAA,MAKM,CAAC,OAAP,CAAe,SAAA,GAAA;AACb,MAAA,mBAAA;AAAA,EAAA,cAAA,GAAiB,OAAO,CAAC,KAAR,CAAc,mBAAd,CAAjB,CAAA;AACA,EAAA,IAAG,cAAH;WACE,OAAO,CAAC,WAAR,CAAoB,cAApB,EADF;GAAA,MAAA;AAGE,IAAA,wDAAmC,CAAA,CAAA,UAAnC;aACE,OAAO,CAAC,kBAAR,CAA2B,CAAC,CAAC,IAAF,CAAO,OAAO,CAAC,YAAR,CAAA,CAAP,CAA+B,CAAA,CAAA,CAA1D,EADF;KAHF;GAFa;AAAA,CAAf,CALA,CAAA","sourcesContent":["# Add amplify helper to TAPi18n\nTAPi18n.setLanguageAmplify = (language) ->\n  amplify.store 'tap-i18n-language', language\n  TAPi18n.setLanguage(language).always(TAPi18n._afterUILanguageChange)\n\n# set the language on startup if it's already been set, otherwise set default\nMeteor.startup ->\n  storedLanguage = amplify.store 'tap-i18n-language'\n  if storedLanguage\n    TAPi18n.setLanguage storedLanguage\n  else\n    if _.keys(TAPi18n.getLanguages())?[0]\n      TAPi18n.setLanguageAmplify _.keys(TAPi18n.getLanguages())[0]\n"]}}